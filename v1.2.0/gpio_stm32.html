<!-- HTML header for doxygen 1.9.6-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CMSIS-Driver_STM32: GPIO</title>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="tabs.js"></script>
<script type="text/javascript" src="footer.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<script type="text/javascript" src="darkmode_toggle.js"></script>
<link href="extra_stylesheet.css" rel="stylesheet" type="text/css"/>
<link href="extra_navtree.css" rel="stylesheet" type="text/css"/>
<link href="extra_search.css" rel="stylesheet" type="text/css"/>
<link href="extra_tabs.css" rel="stylesheet" type="text/css"/>
<link href="version.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../version.js"></script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 55px;">
  <td id="projectlogo" style="padding: 1.5em;"><a href="https://www.keil.arm.com/cmsis" target="_blank"><img alt="Logo" src="cmsis_logo_white_small.png"/</a></td>
  <td style="padding-left: 1em; padding-bottom: 1em;padding-top: 1em;">
   <div id="projectname">CMSIS-Driver_STM32
   &#160;<span id="projectnumber"><script type="text/javascript">
     <!--
     writeHeader.call(this);
     writeVersionDropdown.call(this, "CMSIS-Driver_STM32");
     //-->
    </script>
   </span>
   </div>
   <div id="projectbrief">CMSIS Drivers for STMicroelectronics STM32 Series devices</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
  <!--END !PROJECT_NAME-->
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<div id="CMSISnav" class="tabs1">
  <ul class="tablist">
    <script type="text/javascript">
      writeComponentTabs.call(this);
    </script>
  </ul>
</div>
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('gpio_stm32.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">GPIO </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="autotoc_md10"></a>
Revision History</h1>
<ul>
<li>Version 1.2<ul>
<li>Replaced POSITION_VAL macro with CMSIS implementation</li>
</ul>
</li>
<li>Version 1.1<ul>
<li>Added support for GPIO ports M, N, O and P</li>
</ul>
</li>
<li>Version 1.0<ul>
<li>Initial release</li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md11"></a>
Requirements</h1>
<p>This driver requires the STM32 device specific <b>HAL</b> and <b>STM32CubeMX</b> (CubeMX) initialization code generator. The driver instance is mapped to hardware as shown in the table below:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">CMSIS Driver Instance   </th><th class="markdownTableHeadLeft">STM32 Hardware Resource    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">Driver_GPIO0   </td><td class="markdownTableBodyLeft">PORTA .. PORTZ   </td></tr>
</table>
<h1><a class="anchor" id="autotoc_md12"></a>
Pin mapping</h1>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">Pin Id   </th><th class="markdownTableHeadLeft">STM32 Hardware Resource    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">0 .. 15   </td><td class="markdownTableBodyLeft">PORTA 0..15    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">16 .. 31   </td><td class="markdownTableBodyLeft">PORTB 0..15    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">32 .. 47   </td><td class="markdownTableBodyLeft">PORTC 0..15    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">48 .. 63   </td><td class="markdownTableBodyLeft">PORTD 0..15    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">64 .. 79   </td><td class="markdownTableBodyLeft">PORTE 0..15    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">80 .. 95   </td><td class="markdownTableBodyLeft">PORTF 0..15    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">96 .. 111   </td><td class="markdownTableBodyLeft">PORTG 0..15    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">112 .. 127   </td><td class="markdownTableBodyLeft">PORTH 0..15    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">128 .. 143   </td><td class="markdownTableBodyLeft">PORTI 0..15    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">144 .. 159   </td><td class="markdownTableBodyLeft">PORTJ 0..15    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">160 .. 175   </td><td class="markdownTableBodyLeft">PORTK 0..15    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">176 .. 191   </td><td class="markdownTableBodyLeft">PORTM 0..15    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">192 .. 207   </td><td class="markdownTableBodyLeft">PORTN 0..15    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">208 .. 223   </td><td class="markdownTableBodyLeft">PORTO 0..15    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">224 .. 239   </td><td class="markdownTableBodyLeft">PORTP 0..15    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">240 .. 255   </td><td class="markdownTableBodyLeft">PORTZ 0..15   </td></tr>
</table>
<h1><a class="anchor" id="autotoc_md13"></a>
Deviations</h1>
<p>This driver has the following deviations from the CMSIS-Driver specification:</p>
<p><b>Conceptual</b> deviations:</p><ul>
<li>CubeMX generated initialization code (function MX_GPIO_Init) already configures the peripheral. Power, clocks, pins, and interrupts are enabled after execution of initialization that executes in <code>main.c</code>.</li>
</ul>
<h1><a class="anchor" id="autotoc_md14"></a>
CubeMX Configuration</h1>
<blockquote class="doxtable">
<p>&zwj;<b>Important</b></p>
<p>Pins requiring edge detection must be configured as such in CubeMX. </p>
</blockquote>
<p>This driver requires the following configuration in CubeMX:</p>
<ul>
<li><b>pins</b> used for <b>edge detection</b>:<ul>
<li>pin function selected as <b>GPIO_EXTIn</b>.</li>
<li>for <b>GPIO mode</b> selected <b>External Interrupt Mode</b> any edge trigger detection (Rising or Falling or Rising/Falling).</li>
<li>for <b>GPIO Pull-up/Pull-down</b> selected <b>No pull-up and no pull-down</b>.</li>
</ul>
</li>
<li><b>pins</b> not used for <b>edge detection</b>:<ul>
<li>pin function selected as <b>GPIO_Input</b>.</li>
<li>for <b>GPIO mode</b> selected <b>Input mode</b>.</li>
<li>for <b>GPIO Pull-up/Pull-down</b> selected <b>No pull-up and no pull-down</b>.</li>
</ul>
</li>
<li><b>interrupts</b>: enabled appropriate <b>EXTI line interrupt</b> and <b>IRQ handlers</b> that <b>Call HAL handlers</b>.</li>
</ul>
<blockquote class="doxtable">
<p>&zwj;<b>Notes</b></p>
<ul>
<li>configuration information in the file <b>MX_Device.h</b> file is based on CubeMX configuration.</li>
<li>due to hardware limitations only one pin at the same port position can be configured with edge detection functionality (for example, for pins PC5 and PG5 only one can be selected for edge detection at one point in time). </li>
</ul>
</blockquote>
<h2><a class="anchor" id="autotoc_md15"></a>
Example</h2>
<h3><a class="anchor" id="autotoc_md16"></a>
Pinout &amp; Configuration tab</h3>
<ol type="1">
<li>In the <b>Pinout view</b> window click on a pin and select it's functionality: <table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">Pin   </th><th class="markdownTableHeadCenter">Functionality    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">PG5   </td><td class="markdownTableBodyCenter"><b>GPIO_EXTI5</b>   </td></tr>
</table>
<br  />
</li>
<li><p class="startli">Under <b>Categories</b>: <b>System Core</b> select <b>GPIO</b>:</p>
<p class="startli"><b>PG5 Configuration</b>:</p><ul>
<li>GPIO Settings: <table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">Pin Name   </th><th class="markdownTableHeadCenter">Signal on Pin   </th><th class="markdownTableHeadCenter">GPIO output..   </th><th class="markdownTableHeadCenter">GPIO mode   </th><th class="markdownTableHeadCenter">GPIO Pull-up/Pull..   </th><th class="markdownTableHeadCenter">User Label    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">PG5   </td><td class="markdownTableBodyCenter">n/a   </td><td class="markdownTableBodyCenter">n/a   </td><td class="markdownTableBodyCenter">External Interrupt Mode with Rising edge..   </td><td class="markdownTableBodyCenter">No pull-up and no..   </td><td class="markdownTableBodyCenter">.   </td></tr>
</table>
<br  />
</li>
</ul>
</li>
<li><p class="startli">Under <b>Categories</b>: <b>System Core</b> select <b>NVIC</b>:</p>
<p class="startli"><b>Configuration</b>:</p><ul>
<li>NVIC: <table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">NVIC Interrupt Table   </th><th class="markdownTableHeadCenter">Enabled   </th><th class="markdownTableHeadCenter">Preemption Priority   </th><th class="markdownTableHeadCenter">Sub Priority    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">EXTI line[9:5] interrupts   </td><td class="markdownTableBodyCenter"><b>checked</b>   </td><td class="markdownTableBodyCenter">0   </td><td class="markdownTableBodyCenter">0   </td></tr>
</table>
<br  />
</li>
<li>Code generation: <table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">Enabled interrupt table   </th><th class="markdownTableHeadCenter">Select for..   </th><th class="markdownTableHeadCenter">Generate Enable in..   </th><th class="markdownTableHeadCenter">Generate IRQ h..   </th><th class="markdownTableHeadCenter">Call HAL handler    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">EXTI line[9:5] interrupts   </td><td class="markdownTableBodyCenter">unchecked   </td><td class="markdownTableBodyCenter">checked   </td><td class="markdownTableBodyCenter">checked   </td><td class="markdownTableBodyCenter">checked   </td></tr>
</table>
<br  />
</li>
</ul>
</li>
</ol>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">
      <script type="text/javascript">
        <!--
        writeFooter.call(this);
        //-->
      </script> 
    </li>
  </ul>
</div>
</body>
</html>
